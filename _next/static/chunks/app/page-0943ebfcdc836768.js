(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2258:(e,s,t)=>{Promise.resolve().then(t.bind(t,6170))},6170:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var r=t(5155),l=t(2115);function n(e){let{selectUser:s}=e,[t,n]=(0,l.useState)([]),[a,i]=(0,l.useState)(""),[c,o]=(0,l.useState)("");(0,l.useEffect)(()=>{let e=localStorage.getItem("quizResults");e&&n(JSON.parse(e))},[]);let d=e=>{if(t.some(s=>s.user&&"string"==typeof s.user&&s.user.toLowerCase()===e.toLowerCase())){o("User already exists.");return}let s=[...t,{user:e,type:"easy",score:0,totalQuestions:0,date:new Date().toISOString()}];n(s),localStorage.setItem("quizResults",JSON.stringify(s)),o("")};return(0,r.jsxs)("div",{className:"mx-auto",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Add New User"}),(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!a.trim()){o("Please enter a name.");return}d(a.trim()),i("")},className:"flex gap-2 mb-8",children:[(0,r.jsx)("input",{type:"text",value:a,onChange:e=>i(e.target.value),placeholder:"Enter your name",className:"flex-1 border rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,r.jsx)("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors",children:"Add User"})]}),c&&(0,r.jsx)("p",{className:"text-red-500 mb-4",children:c}),(0,r.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:[0===t.length?"No":""," Test Results"]}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mb-6",children:t.map(e=>{var t;return(0,r.jsxs)("div",{className:"bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"h-10 w-10 flex items-center justify-center bg-blue-500 text-white text-xl font-bold rounded",children:(null===(t=e.user)||void 0===t?void 0:t[0])||"?"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-lg",children:e.user}),(0,r.jsx)("p",{className:"text-sm text-gray-500",suppressHydrationWarning:!0,children:function(e){let s=new Date(e);return"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getUTCMonth()]," ").concat(s.getUTCDate(),", ").concat(s.getUTCFullYear())}(e.date)})]})]}),(0,r.jsx)("button",{onClick:()=>s(e),className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 transition-colors",children:"Select"})]}),(0,r.jsxs)("div",{className:"p-4 grid grid-cols-3 gap-4 text-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-lg font-semibold",children:e.score}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Score"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-lg font-semibold",children:e.totalQuestions}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Questions"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-lg font-semibold capitalize",children:e.type}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Level"})]})]})]},e.user+e.date)})})]})}function a(e){let{selectQuizType:s}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Select Quiz Type"}),(0,r.jsx)("button",{onClick:()=>s("easy"),className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 mr-2",children:"Easy"}),(0,r.jsx)("button",{onClick:()=>s("medium"),className:"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 mr-2",children:"Medium"}),(0,r.jsx)("button",{onClick:()=>s("hard"),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Hard"})]})}function i(e){let{question:s,onAnswer:t,userAnswer:n}=e,[a,i]=(0,l.useState)(n||[]);(0,l.useEffect)(()=>{n?i(n):i(Array(s.blanks.length).fill(""))},[s,n]);let c=(e,s)=>{let r=[...a];r[e]=s,i(r),t(r)},o=s.question.split("__");return(0,r.jsx)("div",{children:o.map((e,s)=>(0,r.jsxs)("span",{children:[e,s<o.length-1&&(0,r.jsx)("input",{type:"text",value:a[s]||"",onChange:e=>c(s,e.target.value),className:"border border-gray-300 px-2 py-1 mx-1"})]},s))})}function c(e){let{question:s,onAnswer:t,userAnswer:l}=e,n=e=>{s.multipleAnswers?t((null==l?void 0:l.includes(e))?l.filter(s=>s!==e):[...l||[],e]):t([e])};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"mb-2",children:s.question}),s.options.map((e,t)=>(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:s.multipleAnswers?"checkbox":"radio",checked:null==l?void 0:l.includes(e),onChange:()=>n(e),className:"mr-2"}),e]})},t))]})}let o=e=>{let{question:s,onAnswer:t,userAnswer:n}=e,[a]=(0,l.useState)(s.leftItems),[i,c]=(0,l.useState)(s.rightItems),[o,d]=(0,l.useState)(null);(0,l.useEffect)(()=>{n&&c(Object.values(n))},[n]);let u=(e,s)=>{d(s),e.dataTransfer.effectAllowed="move"},x=(e,s)=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},m=(e,s)=>{if(e.preventDefault(),null===o)return;let r=[...i],[l]=r.splice(o,1);r.splice(s,0,l),c(r),d(null),t(a.reduce((e,s,t)=>(e[s]=r[t],e),{}))},h=()=>{d(null)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"mb-4",children:s.question}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"w-1/2 pr-4",children:a.map((e,s)=>(0,r.jsx)("div",{className:"mb-2 p-2 bg-gray-100 rounded",children:e},s))}),(0,r.jsx)("div",{className:"w-1/2 pl-4",children:i.map((e,s)=>(0,r.jsx)("div",{draggable:!0,onDragStart:e=>u(e,s),onDragOver:e=>x(e,s),onDrop:e=>m(e,s),onDragEnd:h,className:"mb-2 p-2 bg-blue-100 rounded cursor-move ".concat(o===s?"opacity-50":""),children:e},s))})]})]})};function d(e){let{question:s,onAnswer:t,userAnswer:l}=e;return(0,r.jsxs)("div",{className:"space-y-4",children:[(()=>{switch(s.type){case"fill-in-the-blanks":return(0,r.jsx)(i,{question:s,onAnswer:t,userAnswer:l});case"multiple-choice":return(0,r.jsx)(c,{question:s,onAnswer:t,userAnswer:l});case"matching":return(0,r.jsx)(o,{question:s,onAnswer:t,userAnswer:l});default:return(0,r.jsx)("div",{children:"Unsupported question type"})}})(),s.note&&(0,r.jsxs)("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-md",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Hint:"}),(0,r.jsx)("p",{children:s.note})]})]})}function u(e){let{questions:s,userAnswers:t,score:n,totalQuestions:a,resetQuiz:i}=e,[c,o]=(0,l.useState)(1),d=Math.ceil(s.length/5),u=5*c,x=u-5,m=s.slice(x,u),h=(e,s)=>{let l=t[x+s];switch(e.type){case"fill-in-the-blanks":return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold",children:"Your answer:"}),e.blanks.map((e,s)=>(0,r.jsxs)("span",{children:[s>0&&" ",(0,r.jsx)("span",{className:e.includes(l[s])?"text-green-600":"text-red-600",children:l[s]||"_____"})]},s)),(0,r.jsx)("p",{className:"font-semibold mt-2",children:"Correct answer:"}),e.blanks.map((e,s)=>(0,r.jsxs)("span",{children:[s>0&&" ",(0,r.jsx)("span",{className:"text-green-600",children:e[0]})]},s))]});case"multiple-choice":return(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-semibold",children:["Your answer:",(0,r.jsx)("span",{className:e.correctAnswers.every(e=>null==l?void 0:l.includes(e))?"text-green-600":"text-red-600",children:(null==l?void 0:l.join(", "))||"No answer"})]}),(0,r.jsxs)("p",{className:"font-semibold mt-2",children:["Correct answer:",(0,r.jsx)("span",{className:"text-green-600",children:e.correctAnswers.join(", ")})]})]});case"matching":return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold",children:"Your matches:"}),Object.entries(l||{}).map(s=>{let[t,l]=s;return(0,r.jsxs)("p",{className:e.correctMatches[t]===l?"text-green-600":"text-red-600",children:[t," ➔ ",l]},t)}),(0,r.jsx)("p",{className:"font-semibold mt-2",children:"Correct matches:"}),Object.entries(e.correctMatches).map(e=>{let[s,t]=e;return(0,r.jsxs)("p",{className:"text-green-600",children:[s," ➔ ",t]},s)})]});default:return(0,r.jsx)("p",{children:"Unsupported question type"})}};return(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Quiz Results"}),(0,r.jsxs)("p",{className:"mb-4",children:["Your score: ",n," out of ",a]}),m.map((e,s)=>(0,r.jsxs)("div",{className:"mb-6 p-4 border rounded",children:[(0,r.jsxs)("h3",{className:"font-semibold mb-2",children:["Question ",x+s+1,":"]}),(0,r.jsx)("p",{className:"mb-2",children:e.question}),h(e,s)]},x+s)),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,r.jsx)("button",{onClick:()=>o(e=>Math.max(e-1,1)),disabled:1===c,className:"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-300",children:"Previous"}),(0,r.jsxs)("span",{children:["Page ",c," of ",d]}),(0,r.jsx)("button",{onClick:()=>o(e=>Math.min(e+1,d)),disabled:c===d,className:"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-300",children:"Next"})]}),(0,r.jsx)("button",{onClick:i,className:"mt-6 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Start New Quiz"})]})}function x(e){let{quizType:s,user:t,resetQuiz:n}=e,[a,i]=(0,l.useState)([]),[c,o]=(0,l.useState)(0),[x,m]=(0,l.useState)({}),[h,p]=(0,l.useState)(!1),[b,g]=(0,l.useState)(0),[j,f]=(0,l.useState)(null),[N,y]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{y(!0),f(null);try{let e=await fetch("data/".concat(s,".json"));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=(await e.json()).questions;if(Array.isArray(t)&&t.length>0){let e=(function(e){if(!Array.isArray(e))return console.error("Input is not an array:",e),[];let s=[...e];for(let e=s.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[s[e],s[t]]=[s[t],s[e]]}return s})(t).slice(0,15);i(e)}else Array.isArray(t)&&0===t.length?f("No questions available for this quiz type."):t.error?f(t.error):f("Received invalid data from server")}catch(e){console.error("Error loading questions:",e),f("Failed to load questions: ".concat(e.message))}finally{y(!1)}})()},[s]);let v=(e,s)=>{if(!s)return!1;switch(e.type){case"fill-in-the-blanks":return Array.isArray(s)&&Array.isArray(e.blanks)&&e.blanks.every((e,t)=>s[t]&&e.includes(s[t]));case"multiple-choice":if(!Array.isArray(s)||!Array.isArray(e.correctAnswers))return!1;let t=[...s].sort();return JSON.stringify([...e.correctAnswers].sort())===JSON.stringify(t);case"matching":if(!s||!e.correctMatches)return!1;return JSON.stringify(e.correctMatches)===JSON.stringify(s);default:return!1}},w=()=>{let e=0;a.forEach((s,t)=>{v(s,x[t])&&e++}),g(e),p(!0);let r={user:t.name,type:s,score:e,totalQuestions:a.length,date:new Date().toISOString()},l=JSON.parse(localStorage.getItem("quizResults")||"[]");localStorage.setItem("quizResults",JSON.stringify([...l,r]))};return N?(0,r.jsx)("div",{className:"text-center",children:"Loading questions..."}):j?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-red-500 mb-4",children:j}),(0,r.jsx)("button",{onClick:n,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Try Again"})]}):h?(0,r.jsx)(u,{questions:a,userAnswers:x,score:b,totalQuestions:a.length,resetQuiz:n}):0===a.length?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-red-500 mb-4",children:"No questions available for this quiz type."}),(0,r.jsx)("button",{onClick:n,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Try Another Quiz"})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Question ",c+1," of ",a.length]}),(0,r.jsx)(d,{question:a[c],onAnswer:e=>{m({...x,[c]:e})},userAnswer:x[c]}),(0,r.jsx)("button",{onClick:()=>{c<a.length-1?o(c+1):w()},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-4",children:c===a.length-1?"Finish":"Next"})]})}function m(){let[e,s]=(0,l.useState)([]),[t,i]=(0,l.useState)(null),[c,o]=(0,l.useState)(null);return((0,l.useEffect)(()=>{let e=localStorage.getItem("quizUsers");e&&s(JSON.parse(e))},[]),t)?c?(0,r.jsx)(x,{quizType:c,user:t,resetQuiz:()=>{i(null),o(null)}}):(0,r.jsx)(a,{selectQuizType:e=>{o(e)}}):(0,r.jsx)(n,{users:e,addUser:t=>{let r={id:Date.now().toString(),name:t},l=[...e,r];s(l),localStorage.setItem("quizUsers",JSON.stringify(l)),i(r)},selectUser:e=>{i(e)}})}function h(){return(0,r.jsxs)("main",{className:"container mx-auto p-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Test Mate App"}),(0,r.jsx)(m,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[441,517,358],()=>s(2258)),_N_E=e.O()}]);